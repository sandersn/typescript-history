[
  {
    "Id": "1151811",
    "ThreadId": "484293",
    "Html": "One of the items on the 0.9.5 changelog is a build pane for visual studio 2013 in the project properties to configure TS build settings. I haven't however seen this pane in either an existing project or in test projects. This is an ASP.NET MVC application project. I also have Web Essentials 2013 installed.\r<br />\n<br />\nThe other issue I'm having is that it looks like _references.ts is being ignored. I'm still getting the &quot;implicitly reference all .ts files in the project&quot; behavior from pre-0.9.5, which causes issues, for example, when I'm using both angular-scenario and jasmine typings in the same project (duplicate definitions errors). I have _references.ts in ~/Scripts/_references.ts. Does it need to be somewhere else?<br />\n",
    "PostedDate": "2014-01-10T07:42:42.053-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1151830",
    "ThreadId": "484293",
    "Html": "Regarding your first issue, you need to import TypeScript targets. See <a href=\"https://typescript.codeplex.com/workitem/2014\" rel=\"nofollow\">https://typescript.codeplex.com/workitem/2014</a>\r<br />\n<br />\n<br />\nThis might help with the second issue: <a href=\"https://typescript.codeplex.com/workitem/2071\" rel=\"nofollow\">https://typescript.codeplex.com/workitem/2071</a><br />\n",
    "PostedDate": "2014-01-10T08:28:19.643-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1151850",
    "ThreadId": "484293",
    "Html": "Hmm.. it might be because I'm referencing a local copy of the TypeScript target files, and not the globally installed one. I'm doing this so that the build server can still build the project without TypeScript globally installed. Here is where I'm including the target file in my .csproj project:<br />\n<pre><code>  &lt;Import Project=&quot;$(MSBuildBinPath)\\Microsoft.CSharp.targets&quot; /&gt;\n  &lt;PropertyGroup Condition=&quot;'$(Configuration)' == 'Debug'&quot;&gt;\n    &lt;TypeScriptTarget&gt;ES5&lt;/TypeScriptTarget&gt;\n    &lt;TypeScriptIncludeComments&gt;true&lt;/TypeScriptIncludeComments&gt;\n    &lt;TypeScriptSourceMap&gt;true&lt;/TypeScriptSourceMap&gt;\n    &lt;TypeScriptModuleKind&gt;AMD&lt;/TypeScriptModuleKind&gt;\n  &lt;/PropertyGroup&gt;\n  &lt;PropertyGroup Condition=&quot;'$(Configuration)' == 'Release'&quot;&gt;\n    &lt;TypeScriptTarget&gt;ES5&lt;/TypeScriptTarget&gt;\n    &lt;TypeScriptIncludeComments&gt;false&lt;/TypeScriptIncludeComments&gt;\n    &lt;TypeScriptSourceMap&gt;false&lt;/TypeScriptSourceMap&gt;\n    &lt;TypeScriptModuleKind&gt;AMD&lt;/TypeScriptModuleKind&gt;\n  &lt;/PropertyGroup&gt;\n  &lt;Import Project=&quot;$(SolutionDir)\\Tools\\TypeScript\\v$(VisualStudioVersion)\\Microsoft.TypeScript.targets&quot; /&gt;\n  &lt;Import Project=&quot;$(VSToolsPath)\\WebApplications\\Microsoft.WebApplication.targets&quot; Condition=&quot;'$(VSToolsPath)' != ''&quot; /&gt;</code></pre>\n\nAnd here is my customized version of Microsoft.TypeScript.targets (modified to use the compiler from $(SolutionDir)\\Tools\\TypeScript\\0.9 instead of the one installed globally). <br />\n<pre><code>&lt;!--\n***********************************************************************************************\nMicrosoft.TypeScript.targets\n\nWARNING:  DO NOT MODIFY this file unless you are knowledgeable about MSBuild and have\n          created a backup copy.  Incorrect changes to this file will make it\n          impossible to load or build your web deploy projects from the command-line or the IDE.\n\nThis file defines the steps in the standard build process for TypeScript files.\n\nCopyright (C) Microsoft Corporation. All rights reserved.\n***********************************************************************************************\n--&gt;\n&lt;Project DefaultTargets=&quot;Build&quot; xmlns=&quot;http://schemas.microsoft.com/developer/msbuild/2003&quot;&gt;\n\n  &lt;PropertyGroup&gt;\n    &lt;TsToolsPath&gt;$(SolutionDir)\\Tools\\TypeScript\\v$(VisualStudioVersion)&lt;/TsToolsPath&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;UsingTask TaskName=&quot;TypeScript.Tasks.VsTsc&quot; AssemblyFile=&quot;$(TsToolsPath)\\TypeScript.tasks.dll&quot; /&gt;\n  &lt;UsingTask TaskName=&quot;AssignTargetPath&quot;       AssemblyName=&quot;Microsoft.Build.Tasks, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a&quot;/&gt;\n\n  &lt;PropertyGroup&gt;\n    &lt;CompileDependsOn&gt;\n      CompileTypeScript;\n      $(CompileDependsOn);\n    &lt;/CompileDependsOn&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;PropertyGroup&gt;\n    &lt;PublishPipelineCollectFilesCore&gt;\n      $(PublishPipelineCollectFilesCore);\n      TypeScriptCollectPublishFiles;\n    &lt;/PublishPipelineCollectFilesCore&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;PropertyGroup&gt;\n    &lt;GetCopyToOutputDirectoryItemsDependsOn&gt;\n      $(GetCopyToOutputDirectoryItemsDependsOn);\n      GetTypeScriptCopyToOutputDirectoryItems;\n    &lt;/GetCopyToOutputDirectoryItemsDependsOn&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;PropertyGroup&gt;\n    &lt;!-- Indicates to the language service that this project supports TypeScript --&gt;\n    &lt;TypeScriptEnabled&gt;true&lt;/TypeScriptEnabled&gt;\n\n    &lt;!-- Controls Compile-on-Save in the IDE --&gt;\n    &lt;TypeScriptCompileOnSaveEnabled Condition=&quot;'$(TypeScriptCompileOnSaveEnabled)' == ''&quot;&gt;true&lt;/TypeScriptCompileOnSaveEnabled&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;PropertyGroup Condition=&quot;'$(TypeScriptBuildConfigurations)' == ''&quot;&gt;\n    &lt;TypeScriptBuildConfigurations Condition=&quot;'$(TypeScriptRemoveComments)' == 'true'&quot;&gt;$(TypeScriptBuildConfigurations) --removeComments&lt;/TypeScriptBuildConfigurations&gt;\n    &lt;TypeScriptBuildConfigurations Condition=&quot;'$(TypeScriptNoImplicitAny)' == 'true'&quot;&gt;$(TypeScriptBuildConfigurations) --noImplicitAny&lt;/TypeScriptBuildConfigurations&gt;\n    &lt;TypeScriptBuildConfigurations Condition=&quot;'$(TypeScriptGeneratesDeclarations)' == 'true'&quot;&gt;$(TypeScriptBuildConfigurations) --declaration&lt;/TypeScriptBuildConfigurations&gt;\n    &lt;TypeScriptBuildConfigurations Condition=&quot;'$(TypeScriptModuleKind)' != '' and '$(TypeScriptModuleKind)' != 'none'&quot;&gt;$(TypeScriptBuildConfigurations) --module $(TypeScriptModuleKind)&lt;/TypeScriptBuildConfigurations&gt;\n    &lt;TypeScriptBuildConfigurations Condition=&quot;'$(TypeScriptOutFile)' != ''&quot;&gt;$(TypeScriptBuildConfigurations) --out &amp;quot;$(TypeScriptOutFile)&amp;quot;&lt;/TypeScriptBuildConfigurations&gt;\n    &lt;TypeScriptBuildConfigurations Condition=&quot;'$(TypeScriptOutDir)' != ''&quot;&gt;$(TypeScriptBuildConfigurations) --outDir &amp;quot;$(TypeScriptOutDir)&amp;quot;&lt;/TypeScriptBuildConfigurations&gt;\n    &lt;TypeScriptBuildConfigurations Condition=&quot;'$(TypeScriptSourceMap)' == 'true'&quot;&gt;$(TypeScriptBuildConfigurations) --sourcemap&lt;/TypeScriptBuildConfigurations&gt;\n    &lt;TypeScriptBuildConfigurations Condition=&quot;'$(TypeScriptTarget)' != ''&quot;&gt;$(TypeScriptBuildConfigurations) --target $(TypeScriptTarget)&lt;/TypeScriptBuildConfigurations&gt;\n    &lt;TypeScriptBuildConfigurations Condition=&quot;'$(TypeScriptNoResolve)' == 'true'&quot;&gt;$(TypeScriptBuildConfigurations) --noResolve&lt;/TypeScriptBuildConfigurations&gt;\n    &lt;TypeScriptBuildConfigurations Condition=&quot;'$(TypeScriptAdditionalFlags)' != ''&quot;&gt;$(TypeScriptBuildConfigurations) $(TypeScriptAdditionalFlags)&lt;/TypeScriptBuildConfigurations&gt;\n    &lt;TypeScriptBuildConfigurations Condition=&quot;'$(TypeScriptMapRoot)' != ''&quot;&gt;$(TypeScriptBuildConfigurations) --mapRoot &amp;quot;$(TypeScriptMapRoot)&amp;quot;&lt;/TypeScriptBuildConfigurations&gt;\n    &lt;TypeScriptBuildConfigurations Condition=&quot;'$(TypeScriptSourceRoot)' != ''&quot;&gt;$(TypeScriptBuildConfigurations) --sourceRoot &amp;quot;$(TypeScriptSourceRoot)&amp;quot;&lt;/TypeScriptBuildConfigurations&gt;\n    &lt;TypeScriptBuildConfigurations Condition=&quot;'$(TypeScriptCodePage)' != ''&quot;&gt;$(TypeScriptBuildConfigurations) --codepage $(TypeScriptCodePage)&lt;/TypeScriptBuildConfigurations&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;PropertyGroup&gt;\n    &lt;TypeScriptToolsVersion Condition=&quot;'$(TypeScriptToolsVersion)'==''&quot;&gt;0.9&lt;/TypeScriptToolsVersion&gt;\n    &lt;TscToolPath Condition=&quot;'$(TscToolPath)' == ''&quot;&gt;$(SolutionDir)\\Tools\\TypeScript&lt;/TscToolPath&gt;\n    &lt;TscToolPath Condition=&quot;'$(TypeScriptToolsVersion)' != ''&quot;&gt;$(TscToolPath)\\$(TypeScriptToolsVersion)&lt;/TscToolPath&gt;\n    &lt;TscToolExe Condition=&quot;'$(TscToolExe)' == ''&quot;&gt;tsc.exe&lt;/TscToolExe&gt;\n    &lt;TscYieldDuringToolExecution Condition=&quot;'$(TscYieldDuringToolExecution)' == ''&quot;&gt;true&lt;/TscYieldDuringToolExecution&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;ItemGroup&gt;\n    &lt;PropertyPageSchema Include=&quot;$(MSBuildThisFileDirectory)\\$(LangName)\\TypeScriptProjectProperties.xaml;&quot;&gt;\n      &lt;Context&gt;Project;BrowseObject&lt;/Context&gt;\n    &lt;/PropertyPageSchema&gt;\n  &lt;/ItemGroup&gt;\n\n  &lt;ItemGroup&gt;\n    &lt;ProjectCapability Include=&quot;TypeScript&quot; /&gt;\n  &lt;/ItemGroup&gt;\n\n  &lt;Target Name=&quot;CompileTypeScript&quot; Condition=&quot;'$(BuildingProject)' != 'false'&quot;&gt;\n    &lt;VsTsc\n      ToolPath=&quot;$(TscToolPath)&quot;\n      ToolExe=&quot;$(TscToolExe)&quot;\n      Configurations=&quot;$(TypeScriptBuildConfigurations)&quot;\n      FullPathsToFiles=&quot;@(TypeScriptCompile)&quot;\n      YieldDuringToolExecution=&quot;$(TscYieldDuringToolExecution)&quot;\n      OutFile=&quot;$(TypeScriptOutFile)&quot;\n      OutDir=&quot;$(TypeScriptOutDir)&quot;\n      ProjectDir=&quot;$(ProjectDir)&quot;\n      &gt;\n      &lt;Output TaskParameter=&quot;GeneratedJavascript&quot; ItemName=&quot;GeneratedJavascript&quot; /&gt;\n    &lt;/VsTsc&gt;\n  &lt;/Target&gt;\n\n  &lt;Target Name=&quot;TypeScriptCollectPublishFiles&quot; DependsOnTargets=&quot;CompileTypeScript&quot;&gt;\n    &lt;Message Text=&quot;Adding to FilesForPackagingFromProject: @(GeneratedJavascript-&gt;'%(Identity)')&quot;/&gt;\n    &lt;ItemGroup&gt;\n      &lt;FilesForPackagingFromProject Include=&quot;@(GeneratedJavascript-&gt;'%(Identity)')&quot;/&gt;\n    &lt;/ItemGroup&gt;\n  &lt;/Target&gt;\n\n  &lt;Target Name=&quot;GetTypeScriptCopyToOutputDirectoryItems&quot;&gt;\n    &lt;AssignTargetPath Files=&quot;@(TypeScriptCompile)&quot; RootFolder=&quot;$(MSBuildProjectDirectory)&quot;&gt;\n      &lt;Output TaskParameter=&quot;AssignedFiles&quot; ItemName=&quot;TypeScriptCompileWithTargetPath&quot; /&gt;\n    &lt;/AssignTargetPath&gt;\n    &lt;Message Text=&quot;Adding items with BuildAction=TypeScriptCompile to the same collections that will be populated (with items of other BuildActions) by the GetCopyToOutputDirectoryItems target&quot;/&gt;\n    &lt;ItemGroup&gt;\n      &lt;AllItemsFullPathWithTargetPath            Include=&quot;@(TypeScriptCompileWithTargetPath-&gt;'%(FullPath)')&quot; Condition=&quot;'%(TypeScriptCompileWithTargetPath.CopyToOutputDirectory)'=='Always' or '%(TypeScriptCompileWithTargetPath.CopyToOutputDirectory)'=='PreserveNewest'&quot;/&gt;\n      &lt;_SourceItemsToCopyToOutputDirectoryAlways Include=&quot;@(TypeScriptCompileWithTargetPath-&gt;'%(FullPath)')&quot; Condition=&quot;'%(TypeScriptCompileWithTargetPath.CopyToOutputDirectory)'=='Always'&quot;/&gt;\n      &lt;_SourceItemsToCopyToOutputDirectory       Include=&quot;@(TypeScriptCompileWithTargetPath-&gt;'%(FullPath)')&quot; Condition=&quot;'%(TypeScriptCompileWithTargetPath.CopyToOutputDirectory)'=='PreserveNewest'&quot;/&gt;\n    &lt;/ItemGroup&gt;\n  &lt;/Target&gt;\n\n&lt;/Project&gt;\n</code></pre>\n\n",
    "PostedDate": "2014-01-10T09:14:07.127-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1151861",
    "ThreadId": "484293",
    "Html": "Aha, I found the issue. I accidently copied the v11 version of the typescript msbuild files to the v12 directory. Also I was missing this line at the top of the project:\r<br />\n<br />\n// Standard version:<br />\n<pre><code>&lt;Import Project=&quot;$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.Default.props&quot; Condition=&quot;Exists('$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.Default.props')&quot; /&gt;</code></pre>\n\n// My customized version:<br />\n<pre><code>&lt;Import Project=&quot;$(SolutionDir)\\Tools\\TypeScript\\v$(VisualStudioVersion)\\Microsoft.TypeScript.Default.props&quot; Condition=&quot;Exists('$(SolutionDir)\\Tools\\TypeScript\\v$(VisualStudioVersion)\\Microsoft.TypeScript.Default.props')&quot; /&gt;</code></pre>\n\n",
    "PostedDate": "2014-01-10T09:52:04.903-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]